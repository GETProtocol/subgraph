# COMBAK inherit all from a DataFactory Schema
type Protocol @entity {
  id: ID!
  getUsed: BigInt!
  ticketValue: BigInt!
  mintCount: BigInt!
  scanCount: BigInt!
  claimCount: BigInt!
  changeCount: BigInt!
}

type ProtocolDay @entity {
  id: ID!
  timestamp: Int!
  getUsed: BigInt!
  ticketValue: BigInt!
  mintCount: BigInt!
  scanCount: BigInt!
  claimCount: BigInt!
  changeCount: BigInt!
}

type Event @entity {
  id: ID!
  relayer: Relayer!
  getUsed: BigInt!
  eventName: String!
  shopUrl: String!
  imageUrl: String!
  ticketValue: BigInt!
  mintCount: BigInt!
  timestamp: BigInt!
}

type Relayer @entity {
  id: ID!
  getUsed: BigInt!
  ticketValue: BigInt!
  mintCount: BigInt!
  scanCount: BigInt!
  claimCount: BigInt!
  events: [Event]!
}

# NOTE NOTE Additional primary keys for querying by timestamp instead of relayer. This would remove the need
# to have a separate ProtocolDayData Entity if you could just query by timestamp, then
# aggregate on the client
type RelayerDay @entity {
  id: ID! # Composite Key: relayerAddress:timestampAsDay
  relayer: Relayer!
  timestamp: Int!
  getUsed: BigInt!
  ticketValue: BigInt!
  mintCount: BigInt!
  scanCount: BigInt!
  claimCount: BigInt!
  changeCount: BigInt!
}
# ------------------------------------------------------------------------------------------------------------
# V2 Contract Entities
# ------------------------------------------------------------------------------------------------------------
# type RelayerDayDynamicRates @entity  {

# }
